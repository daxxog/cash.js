(function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.returnExports=e()})(this,function(){var t={};return t=function(e,r){switch(typeof e){case"undefined":return new t(0,0);case"object":if(e instanceof Array)return r=e[1],e=e[0],new t(e,r);this.dec=e.dec,this.a=e.a,this.b=e.b;break;case"string":return e=JSON.parse(e),new t(e);case"number":if("number"!=typeof r)return new t(e,0);this.dec=(""+r).strip(["-","."]).length,this.a=e,this.b=r}},t._strproto=function(t){var e={};for(var r in t)e[r]=t[r];return e}(String.prototype),t.prototype.toObject=function(){return{a:this.a,b:this.b,dec:this.dec}},String.prototype.replaceAll=function(t,e,r){var n,a,o=-1;if((n=""+this)&&"string"==typeof t)for(a=r===!0?t.toLowerCase():void 0;-1!==(o=void 0!==a?n.toLowerCase().indexOf(a,o>=0?o+e.length:0):n.indexOf(t,o>=0?o+e.length:0));)n=n.substring(0,o).concat(e).concat(n.substring(o+t.length));return n},String.prototype.strip=function(t){var e=this;return t.forEach(function(t){e=e.replaceAll(t,"")}),e},String.prototype.repeat=function(t){for(var e="",r=0;t>r;r++)e+=this;return e},t.isNUM=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t._parse=function(t){var e=""+t,r=e.replaceAll("$","").replaceAll(",","").replaceAll("c","");return r},t._parseMode={strict:!1},t.parseMode=function(e){return e===void 0?t._parseMode:(t._parseMode=e,void 0)},t.parsable=function(e){var r=t._parse(e),n=r.split(".");return n[1]!==void 0&&t.parseMode().strict===!0?t.isNUM(r)&&t.automin()>=n[1].length:t.isNUM(r)},t.parseToJSON=function(e){if(t.parsable(e)){var r=t._parse(""+e).split("."),n=t.isNUM(parseInt(r[1],10)),a=("["+(""+parseInt(r[0],10)+","+(""+(n?parseInt(r[1],10):0)))+"]").replace(".",",").replace("NaN","0");return{json:a,dec:n?r[1].length:1}}return-1},t.parse=function(e){if(t.parsable(e)){var r=t.parseToJSON(e);return new t(r.json).d(r.dec).ms()}return-1},t.killme=function(e){var r;for(r in String.prototype)delete String.prototype[r];for(r in t._strproto)String.prototype[r]=t._strproto[r];setTimeout(function(){t=void 0,setTimeout(e,1)},250)},t.validate=function(t){return"number"==typeof t.dec&&"number"==typeof t.a&&"number"==typeof t.b},t._=function(e,r){return t.validate(e)===!0?e:new t(e,r)},t.prototype.validate=function(){return t.validate(this)},t.prototype.toNumber=function(){var t=(""+Math.abs(this.b)).strip(["-","."]);return t=t.length==this.dec?""+t:"0".repeat(this.dec-t.length)+t,new Number(""+this.a+"."+t).valueOf()},t.prototype.clone=function(){return new t(this)},t.prototype.d=function(t){var e=this.clone();return e.dec=t,e},t.prototype.add=function(e,r){var n=new t,a=t._(e,r).ms();n.dec=Math.max(this.ms().dec,a.dec);var o=Math.pow(10,n.dec),s=this.ms().b+a.b;return n.a=this.a+a.a+Math.floor(s/o),n.b=s%o,n},t.prototype.invert=function(){return new t(-1*this.a,-1*this.b)},t.prototype.sub=function(e,r){var n=new t,a=t._(e,r).ms();n.dec=Math.max(this.ms().dec,a.dec);var o=Math.pow(10,n.dec),s=-1*(a.b-this.ms().b),i=0>s,h=Math.abs(s),p=i?-1:0,c=i?o-h:h;return u=-1*a.a,v=this.a+p+u,n.a=v,n.b=c,n.ms()},t.prototype.min=function(e){return e===void 0?t.parse(this.toNumber()):this.dec==e?this:e>this.dec?this:this.dec>e?new t(t.parseToJSON(this.toNumber().toFixed(e)).json):void 0},t._automin=!1,t.automin=function(e){return e===void 0?t._automin:(this._automin=e,void 0)},t.prototype.ms=function(){return t.automin()!==!1?this.min(t._automin):this.clone()},t});